import{f as j,u as y,r as t,j as e,A as w,a as x,y as b}from"./index-MCFfI99p.js";/* empty css                      */function k(){const[n]=j(),a=y(),[i,c]=t.useState(!0),[d,f]=t.useState(!1),[g,l]=t.useState(null),[m,u]=t.useState(null);return t.useEffect(()=>{(async()=>{try{const s=await fetch(x+"GeneralInfo");if(!s.ok)throw new Error("Failed to fetch logo");const r=await s.json();u(r.data.headerLogoUrl)}catch(s){console.error("Error fetching logo:",s),u(null)}})()},[]),t.useEffect(()=>{(async()=>{const s=n.get("userId"),r=n.get("token");if(!s||!r){l("Invalid confirmation link. Missing required parameters."),c(!1);return}try{const o=await fetch(`${x}Auth/confirm?userId=${encodeURIComponent(s)}&token=${encodeURIComponent(r)}`,{method:"GET",headers:{accept:"*/*"}});if(o.ok)f(!0),b.success("Email confirmed successfully! You can now log in."),setTimeout(()=>{a("/login")},5e3);else{const p=await o.text();l(`Email confirmation failed: ${p}`)}}catch(o){console.error("Confirmation error:",o),l("An unexpected error occurred. Please try again later.")}finally{c(!1)}})()},[n,a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-2xl shadow-2xl text-center",children:[e.jsxs("div",{className:"mb-6",children:[m?e.jsx("img",{src:`${w}/${m}`,alt:"Logo",className:"mx-auto h-14 w-auto mb-4"}):e.jsx("div",{className:"h-14 w-14 mx-auto mb-4 bg-gray-200 rounded-full animate-pulse"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Email Confirmation"})]}),i&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Verifying your email..."})]}),!i&&d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100",children:e.jsx("svg",{className:"h-10 w-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Email Confirmed!"}),e.jsx("p",{className:"text-gray-600",children:"Thank you for confirming your email address. You can now log in to your account."}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Redirecting to login page in a few seconds..."})]}),!i&&!d&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:e.jsx("svg",{className:"h-10 w-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Confirmation Failed"}),e.jsx("p",{className:"text-gray-600",children:g}),e.jsx("button",{onClick:()=>a("/login"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Login"})]})]})})}export{k as default};
