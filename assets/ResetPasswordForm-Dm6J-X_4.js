import{r as t,h as y,i as b,j as e,a as h,d as r}from"./index-OnILonIo.js";function v(){const[l,o]=t.useState(""),[n,i]=t.useState(""),[u,f]=t.useState(""),[c,d]=t.useState(!1),x=y(),[m]=b();t.useState(()=>{const s=m.get("email"),a=m.get("token");s&&o(s),a&&i(a)});const p=async s=>{s.preventDefault(),d(!0);try{const a=await fetch(`${h}/Auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,token:n,newPassword:u})});if(a.ok)r.success("Password has been reset successfully!"),x("/login");else{const g=await a.text();r.error(`Reset failed: ${g}`)}}catch{r.error("An error occurred. Please try again.")}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-2xl shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Reset Your Password"}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-envelope absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:l,onChange:s=>o(s.target.value),placeholder:"Email",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-key absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:s=>i(s.target.value),placeholder:"Token",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-lock absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",value:u,onChange:s=>f(s.target.value),placeholder:"New Password",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Resetting...":"Reset Password"})]})]})})}export{v as default};
