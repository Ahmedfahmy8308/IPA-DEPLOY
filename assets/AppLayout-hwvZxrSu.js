import{c as h,ad as g,J as j,j as e,o as b,r as a,u as v,O as N}from"./index-D_KUTxaW.js";import{L as y,A as w,a as k,b as L}from"./avatar-D-R_yj31.js";import{B as S}from"./book-CY6txRqJ.js";import{B as C}from"./button-DT6a1xZE.js";import{M,L as E}from"./menu-BGQUB8ly.js";import{C as I}from"./chevron-down-H6rY0mfd.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=h("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=h("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);function u(...s){return g(j(s))}const l=({to:s,icon:c,label:r})=>e.jsxs(b,{to:s,className:({isActive:i})=>u("flex items-center gap-3 px-4 py-3 rounded-md mb-1 transition-colors text-white",i?"bg-sidebar-accent/35 text-white font-medium":"text-white hover:bg-sidebar-accent/50"),children:[e.jsx(c,{size:20}),e.jsx("span",{children:r})]}),A=({isOpen:s})=>e.jsx("div",{className:u("fixed left-0 top-0 h-full bg-blue-900 z-40 shadow-lg transition-all duration-300 ease-in-out text-white",s?"w-64":"w-0 overflow-hidden"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"h-16 flex items-center justify-center border-b border-sidebar-border",children:e.jsx("h1",{className:"text-xl font-bold text-white",children:"IPA ELMS"})}),e.jsx("div",{className:"flex-1 py-6 px-3 overflow-y-auto",children:e.jsxs("nav",{className:"space-y-1",children:[e.jsx(l,{to:"/ELMS",icon:y,label:"Dashboard"}),e.jsx(l,{to:"/ELMS/course",icon:S,label:"Course Lessons"}),e.jsx(l,{to:"/ELMS/evaluation",icon:O,label:"Evaluation"}),e.jsx(l,{to:"/ELMS/ticket",icon:D,label:"Ticket"})]})})]})}),W=()=>{const[s,c]=a.useState(!0),[r,i]=a.useState(!1),[t,m]=a.useState({name:"",email:"",isLoggedIn:!1}),d=a.useRef(null),x=v();a.useEffect(()=>{const n=localStorage.getItem("userData");if(n){const o=JSON.parse(n);m({name:o.firstName||"",email:o.email||"",isLoggedIn:!0})}},[]),a.useEffect(()=>{const n=o=>{d.current&&!d.current.contains(o.target)&&i(!1)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]);const p=()=>c(!s),f=async()=>{localStorage.removeItem("userData"),m({name:"",email:"",isLoggedIn:!1}),i(!1),x("/login")};return e.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[e.jsx(A,{isOpen:s}),e.jsxs("div",{className:`flex-1 transition-all duration-300 ease-in-out ${s?"ml-64":"ml-0"}`,children:[e.jsxs("header",{className:"bg-white border-b h-16 flex items-center justify-between px-4 shadow-sm sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{variant:"ghost",size:"icon",onClick:p,className:"mr-4 hover:bg-gray-100",children:e.jsx(M,{className:"h-5 w-5"})}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-800",children:["Welcome ",t.name||"User"]})]}),t.isLoggedIn&&e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"relative",ref:d,children:[e.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer group",onClick:()=>i(!r),children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-8 w-8",children:e.jsx(k,{className:"bg-gradient-to-r from-blue-500 to-blue-300 text-white font-medium",children:t.name?t.name.charAt(0).toUpperCase():"?"})}),e.jsx(I,{className:`h-4 w-4 ml-1 text-gray-500 transition-transform duration-200 ${r?"rotate-180":""}`})]})]}),r&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-100 z-50 py-1 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),e.jsxs("div",{onClick:()=>x("/"),className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[e.jsx(L,{className:"w-4 h-4 mr-3 text-gray-400"}),"Back to Website"]}),e.jsxs("div",{onClick:f,className:"flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 cursor-pointer transition-colors duration-150",children:[e.jsx(E,{className:"w-4 h-4 mr-3 text-red-400"}),"Log Out"]})]})]})})]}),e.jsx("main",{className:"p-4 md:p-6",children:e.jsx(N,{})})]})]})};export{W as default};
