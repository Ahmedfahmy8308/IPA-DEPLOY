import{s as v,p as D,r as i,j as e,m as a,C as y,q as d,t as S,v as E,B as T,P as F,d as A,f as j,a as N,A as m}from"./index-DjCmmSOU.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=v("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=v("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),B=()=>{var p;const{courseId:h}=D(),[s,w]=i.useState(null),[k,u]=i.useState(!0),[g,f]=i.useState(null),[I,M]=i.useState(0),[C,c]=i.useState(!1),[L,b]=i.useState(!1);i.useEffect(()=>{(async()=>{try{u(!0),f(null);const r=(await j.get(N+`Courses/${h}`)).data.data;if(!r)throw new Error("No course data received from the server");const o={...r,imageUrl:r.imageUrl?`${m}/${r.imageUrl}`:"",instructor:r.instructor?{...r.instructor,imageUrl:r.instructor.imageUrl?`${m}/${r.instructor.imageUrl}`:""}:{id:0,name:"Instructor information unavailable",jobTitle:"",imageUrl:"",description:"",rating:"",socialMediaHTML:""},comments:r.comments?r.comments.map(x=>({...x,imageUrl:x.imageUrl?`${m}/${x.imageUrl}`:""})):[],courseType:r.courseType?{...r.courseType,imageUrl:r.courseType.imageUrl?`${m}/${r.courseType.imageUrl}`:""}:{id:0,name:"",description:"",imageUrl:""}};w(o)}catch(l){console.error("Fetch error:",l),f(l instanceof Error?l.message:"Failed to load course details")}finally{u(!1)}})()},[h]),i.useEffect(()=>{const t=()=>{window.scrollY>400?b(!0):b(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EGP"}).format(t),U=t=>{const l={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("en-US",l)};return k?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(a.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto mb-6"}),e.jsx(a.p,{initial:{opacity:.5},animate:{opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:1.5},className:"text-lg font-medium text-gray-600",children:"Loading course details..."})]})}):g?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Error loading course"}),e.jsx("p",{className:"text-gray-600 mb-6",children:g}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md transition-all duration-300",children:"Try Again"})]})}):s?e.jsxs("div",{className:"bg-gray-50",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-black/50 z-0"}),e.jsxs("div",{className:"relative bg-cover bg-center h-[32rem] md:h-[40rem]",style:{backgroundImage:`url(${s.imageUrl})`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent z-0"}),e.jsx("div",{className:"container mx-auto px-6 h-full flex items-end pb-16 md:pb-24 relative z-10",children:e.jsxs(a.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},className:"max-w-3xl text-white",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[e.jsxs(a.span,{whileHover:{scale:1.05},className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium",children:[e.jsx(y,{className:"w-4 h-4 mr-2"})," ",s.hoursCount," hours"]}),e.jsxs(a.span,{whileHover:{scale:1.05},className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full text-sm font-medium",children:[e.jsx(d,{className:"w-4 h-4 mr-2 fill-current"})," ",s.rating.toFixed(1)," Rating"]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight tracking-tight",children:s.name}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-200 mb-8 leading-relaxed",children:s.shortDescription}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[e.jsxs(a.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>c(!0),className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg transition-all duration-300 text-lg font-semibold",children:["Enroll Now - ",n(s.priceAfterDiscount)]}),e.jsx(a.a,{whileHover:{scale:1.03},whileTap:{scale:.98},href:s.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"px-8 py-4 bg-white/10 backdrop-blur-sm text-white rounded-lg hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 shadow-lg transition-all duration-300 text-lg font-semibold text-center cursor-pointer",children:"Watch Preview"})]})]})})]})]}),e.jsx("div",{className:"container mx-auto px-6 py-12 md:py-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[e.jsxs("div",{className:"lg:w-2/3",children:[e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-xl p-8 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Course Information"}),e.jsx("p",{className:"text-gray-700 mb-6 leading-relaxed",children:s.courseInfo}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Start Date"}),e.jsx("p",{className:"text-gray-700",children:U(s.scheduleStart)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Duration"}),e.jsxs("p",{className:"text-gray-700",children:[s.weeksCount," weeks (",s.hoursCount," hours)"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Schedule"}),e.jsx("p",{className:"text-gray-700",children:s.sessionTimings})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-700",children:s.location})]})]})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-xl p-8 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"What You'll Learn"}),e.jsx("div",{className:"space-y-4",children:s.whatYouWillLearn.split("|").map((t,l)=>e.jsxs(a.div,{whileHover:{x:5},className:"flex items-start bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-2 rounded-full mr-4",children:e.jsx(S,{className:"h-5 w-5 text-blue-600"})}),e.jsx("p",{className:"text-gray-700 font-medium",children:t})]},l))})]}),s.comments&&s.comments.length>0&&e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-xl p-8 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Student Reviews"}),e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsxs("div",{className:"flex items-center mr-4",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 mr-3",children:s.rating.toFixed(1)}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center mb-1",children:[1,2,3,4,5].map(t=>e.jsx(d,{className:`w-6 h-6 ${t<=Math.round(s.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},t))}),e.jsxs("div",{className:"text-gray-600",children:["Based on ",s.comments.length," reviews"]})]})]}),e.jsx("div",{className:"flex-1",children:[5,4,3,2,1].map(t=>{const l=s.comments.filter(o=>Math.round(o.rating)===t).length,r=l/s.comments.length*100;return e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsxs("div",{className:"w-10 text-gray-600",children:[t," star"]}),e.jsx("div",{className:"flex-1 mx-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx(a.div,{initial:{width:0},animate:{width:`${r}%`},transition:{delay:.2+(5-t)*.1},className:"h-full bg-yellow-400"})}),e.jsx("div",{className:"w-10 text-right text-gray-600",children:l})]},t)})})]}),e.jsx("div",{className:"space-y-8",children:s.comments.map(t=>e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"border-b border-gray-200 pb-6 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-12 h-12 rounded-full object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(l=>e.jsx(d,{className:`w-4 h-4 ${l<=t.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l))}),e.jsx("span",{className:"text-sm text-gray-500",children:t.jobTitle})]})]})]}),e.jsx("p",{className:"text-gray-700",children:t.text})]},t.id))})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"About the Instructor"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(a.img,{whileHover:{scale:1.03},src:s.instructor.imageUrl,alt:s.instructor.name,className:"w-40 h-40 md:w-48 md:h-48 rounded-xl object-cover shadow-lg"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:s.instructor.name}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:s.instructor.description}),((p=s.instructor.qualifications)==null?void 0:p.length)>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Qualifications"}),e.jsx("ul",{className:"space-y-3",children:s.instructor.qualifications.map((t,l)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-500 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]},l))})]})]})]})]})]}),e.jsx("div",{className:`lg:w-1/3 ${L?"lg:fixed lg:right-8 lg:top-8 lg:w-96":""} transition-all duration-300`,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900",children:n(s.priceAfterDiscount)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("span",{className:"text-lg line-through text-gray-500 mr-3",children:n(s.priceBeforeDiscount)}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-md text-sm font-semibold",children:[s.discountPercentage,"% OFF"]})]})]}),e.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-600 px-4 py-2 rounded-full text-sm font-semibold",children:[e.jsx(d,{className:"w-4 h-4 mr-2 fill-current"}),s.rating.toFixed(1)," Rating"]})]}),e.jsx(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(!0),className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg mb-6 text-lg font-semibold transition-all duration-300",children:"Enroll Now"}),e.jsx("div",{className:"text-center text-sm text-gray-500 mb-8",children:"30-Day Money-Back Guarantee"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(y,{className:"w-6 h-6 text-blue-600 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),e.jsxs("p",{className:"font-medium text-gray-800",children:[s.weeksCount," weeks"]})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Hours"}),e.jsxs("p",{className:"font-medium text-gray-800",children:[s.hoursCount," hours"]})]})]}),e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(T,{className:"w-6 h-6 text-blue-600 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Course Type"}),e.jsx("p",{className:"font-medium text-gray-800",children:s.courseType.name})]})]})]})]})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-2xl shadow-xl p-8 bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4 text-lg",children:"Need help deciding?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our course advisors are here to help you choose the right course."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("a",{href:"/contact",className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsx("span",{className:"font-medium",children:"Live Chat"})]}),e.jsx("span",{className:"text-blue-600",children:"→"})]}),e.jsxs("a",{href:"/contact",className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"w-5 h-5 text-blue-600 mr-3"}),e.jsx("span",{className:"font-medium",children:"Call Us"})]}),e.jsx("span",{className:"text-blue-600",children:"→"})]})]})]})]})})]})}),e.jsx(A,{children:C&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:e.jsxs(a.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl w-full max-w-md shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-blue-600 to-indigo-700"}),e.jsxs("div",{className:"p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Enroll in ",s==null?void 0:s.name]}),e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mr-3",children:n((s==null?void 0:s.priceAfterDiscount)||0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg line-through text-gray-500 mr-3",children:n((s==null?void 0:s.priceBeforeDiscount)||0)}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-md text-sm font-semibold",children:[s==null?void 0:s.discountPercentage,"% OFF"]})]})]}),e.jsxs("form",{className:"space-y-5",onSubmit:async t=>{t.preventDefault();const l=new FormData(t.target),r={courseId:(s==null?void 0:s.id)||0,name:l.get("name"),phone:l.get("phone"),email:l.get("email")};try{await j.post(`${N}StudentEnrollment`,r),alert("Enrollment successful!"),c(!1)}catch(o){console.error("Enrollment error:",o),alert("Failed to enroll. Please try again.")}},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"your@email.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"+2 (___) ___-____",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",required:!0})]}),e.jsx("div",{className:"pt-2",children:e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full px-6 py-4 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg text-lg font-semibold transition-all duration-300",children:["Complete Enrollment - ",n((s==null?void 0:s.priceAfterDiscount)||0)]})})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Course Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The course you're looking for doesn't exist or may have been removed."}),e.jsx("a",{href:"/courses",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md transition-all duration-300",children:"Browse Courses"})]})})};export{B as default};
