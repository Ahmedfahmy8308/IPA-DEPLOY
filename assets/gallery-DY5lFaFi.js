import{r as n,j as e,m as l,d as P,f as N,a as k,A as L}from"./index-DNTIH_ym.js";const $=()=>{const[o,d]=n.useState(null),[p,g]=n.useState("all"),[i,j]=n.useState(!1),[C,v]=n.useState(!0),[w,y]=n.useState(null),[h,I]=n.useState([]),[S,z]=n.useState([]);n.useEffect(()=>{(async()=>{v(!0),y(null);try{const[a,u]=await Promise.all([N.get(`${k}Gallery/get-all-gallery`),N.get(`${k}Gallery/get-all-category`)]);if(a.data.success&&u.data.success){z(u.data.data);const A=a.data.data.map(c=>{const f=u.data.data.find(E=>E.id===c.galleryCategoryId);let b="image";return c.type===1&&(b="video"),{id:c.id,title:c.name,category:(f==null?void 0:f.name.toLowerCase())||"uncategorized",categoryId:c.galleryCategoryId,type:b,src:L+c.fileUrl,thumbnail:b==="video"?L+c.fileUrl:void 0}});I(A)}else y("Failed to fetch gallery data")}catch(a){console.error("Error fetching gallery data:",a),y("Failed to load gallery. Please try again later.")}finally{setTimeout(()=>v(!1),500)}})()},[]);const r=p==="all"?h:h.filter(t=>t.category===p),s=h.find(t=>t.id===o),x=r.findIndex(t=>t.id===o),m=t=>{if(!o)return;let a;t==="prev"?a=x===0?r.length-1:x-1:a=x===r.length-1?0:x+1,d(r[a].id)};n.useEffect(()=>{const t=a=>{o&&(a.key==="Escape"&&d(null),a.key==="ArrowLeft"&&m("prev"),a.key==="ArrowRight"&&m("next"))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o,x]);const M=["all",...new Set(h.map(t=>t.category))];return C?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(l.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mb-4"}),e.jsx(l.p,{initial:{opacity:0},animate:{opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:1},className:"text-gray-700 text-lg",children:"Loading Gallery..."})]})}):w?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Gallery"}),e.jsx("p",{className:"text-gray-600 mb-4",children:w}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg",children:"Try Again"})]})}):e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsxs("div",{className:"relative h-screen max-h-[400px] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t bg-blue-800"}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-end pb-20 px-4 sm:px-6 lg:px-8",children:e.jsxs(l.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-7xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:["Our ",e.jsx("span",{className:"text-blue-400",children:"Visual"})," Story"]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-10",children:"Explore our curated collection of memorable moments and creative work"}),e.jsx(l.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-full shadow-lg",onClick:()=>g("all"),children:"View All Works"})]})})]}),e.jsxs("div",{className:"max-w-8xl mx-auto py-20 px-4 sm:px-6 lg:px-8",children:[e.jsx(l.div,{className:"flex flex-wrap justify-center gap-2 mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:M.map(t=>e.jsx(l.button,{onClick:()=>g(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-5 py-2 rounded-full capitalize text-sm font-medium transition-all duration-300 ${p===t?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow-sm"}`,children:t.replace("-"," ")},t))}),e.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6",children:r.map(t=>e.jsxs(l.div,{layoutId:`card-${t.id}`,onClick:()=>d(t.id),className:"group relative overflow-hidden rounded-xl shadow-lg cursor-pointer break-inside-avoid",whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 w-full",children:t.type==="image"?e.jsx(l.img,{src:t.src,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}):e.jsx(e.Fragment,{children:e.jsxs(l.div,{className:"w-full h-full relative",children:[e.jsx("video",{src:t.src,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",preload:"metadata",poster:t.thumbnail||t.src}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 pointer-events-none",children:e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})})]})})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-xl font-bold",children:t.title}),e.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-blue-600 text-white text-xs rounded-full capitalize",children:t.category}),t.type==="video"&&e.jsx("span",{className:"inline-block ml-2 px-3 py-1 bg-red-500 text-white text-xs rounded-full",children:"Video"})]})})]},t.id))}),r.length===0&&e.jsxs(l.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No items found"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"We couldn't find any items matching your selected category."}),e.jsx("button",{onClick:()=>g("all"),className:"mt-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg",children:"View All Items"})]})]}),e.jsx(P,{children:o&&e.jsxs(l.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(null),children:[e.jsx(l.div,{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),e.jsx(l.div,{layoutId:`card-${o}`,className:"relative z-10 bg-gray-900 rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:t=>t.stopPropagation(),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:30},children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${i?"fixed inset-0 z-50 bg-black":"relative"}`,children:[s.type==="image"?e.jsx(l.img,{src:s.src,alt:s.title,className:`${i?"w-full h-full object-contain":"w-full h-auto max-h-[70vh] object-contain"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2}}):e.jsx("div",{className:`${i?"fixed inset-0 flex items-center justify-center bg-black":"relative"}`,children:e.jsxs("video",{controls:!0,autoPlay:!0,className:`${i?"w-full h-full object-contain":"w-full h-auto max-h-[70vh]"}`,children:[e.jsx("source",{src:s.src,type:"video/mp4"}),"Your browser does not support the video tag."]})}),!i&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900/90 to-transparent p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:s.title}),e.jsxs("div",{className:"flex items-center mt-2 gap-2",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-600 text-white text-sm rounded-full capitalize",children:s.category}),s.type==="video"&&e.jsx("span",{className:"inline-block px-3 py-1 bg-red-500 text-white text-sm rounded-full",children:"Video"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[s.type==="image"&&e.jsx("button",{onClick:()=>j(!i),className:"text-white hover:text-gray-200 transition-colors p-2","aria-label":"Toggle fullscreen",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),e.jsx("button",{onClick:()=>d(null),className:"text-white hover:text-gray-200 transition-colors p-2","aria-label":"Close",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})}),i&&e.jsx("div",{className:"absolute top-4 right-4 z-50",children:e.jsx("button",{onClick:()=>j(!1),className:"text-white hover:text-gray-200 transition-colors p-2 bg-gray-900/50 rounded-full","aria-label":"Exit fullscreen",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]}),r.length>1&&!i&&s.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),m("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full backdrop-blur-sm transition-all","aria-label":"Previous image",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),m("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full backdrop-blur-sm transition-all","aria-label":"Next image",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),r.length>1&&!i&&s.type==="image"&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 px-4",children:e.jsx("div",{className:"flex overflow-x-auto py-2 gap-2 max-w-full",children:r.map((t,a)=>e.jsx("button",{onClick:u=>{u.stopPropagation(),d(t.id)},className:`flex-shrink-0 w-16 h-16 rounded-md overflow-hidden border-2 transition-all ${o===t.id?"border-blue-500 scale-110":"border-transparent hover:border-white/50"}`,children:t.type==="image"?e.jsx("img",{src:t.src,alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.thumbnail||t.src,alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"})})})]})},t.id))})})]})})]})})]})};export{$ as default};
