import{r as i,j as e,b as N,a as L,A as C}from"./index-Cyiel408.js";import{H as j}from"./head-xzdvZoiV.js";import{A as I}from"./aos-DnbD2dGj.js";import{m as a}from"./proxy-DOLLqZqS.js";import{A as W}from"./index-8YYtLd1D.js";import"./head-manager-context.shared-runtime-BAcSXaF8.js";const O=()=>{const[n,d]=i.useState(null),[u,g]=i.useState("all"),[r,v]=i.useState(!1),[S,w]=i.useState(!0),[k,y]=i.useState(null),[h,A]=i.useState([]),[$,E]=i.useState([]);i.useEffect(()=>{I.init({duration:800,easing:"ease-in-out",once:!0,offset:100})},[]),i.useEffect(()=>{(async()=>{w(!0),y(null);try{const[s,x]=await Promise.all([N.get(`${L}Gallery/get-all-gallery`),N.get(`${L}Gallery/get-all-category`)]);if(s.data.success&&x.data.success){E(x.data.data);const G=s.data.data.map(c=>{const f=x.data.data.find(P=>P.id===c.galleryCategoryId);let b="image";return c.type===1&&(b="video"),{id:c.id,title:c.name,category:(f==null?void 0:f.name.toLowerCase())||"uncategorized",categoryId:c.galleryCategoryId,type:b,src:C+c.fileUrl,thumbnail:b==="video"?C+c.fileUrl:void 0}});A(G),I.refresh()}else y("Failed to fetch gallery data")}catch(s){console.error("Error fetching gallery data:",s),y("Failed to load gallery. Please try again later.")}finally{setTimeout(()=>w(!1),500)}})()},[]);const o=u==="all"?h:h.filter(t=>t.category===u),l=h.find(t=>t.id===n),m=o.findIndex(t=>t.id===n),p=t=>{if(!n)return;let s;t==="prev"?s=m===0?o.length-1:m-1:s=m===o.length-1?0:m+1,d(o[s].id)};i.useEffect(()=>{const t=s=>{n&&(s.key==="Escape"&&d(null),s.key==="ArrowLeft"&&p("prev"),s.key==="ArrowRight"&&p("next"))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[n,m]);const z=["all",...new Set(h.map(t=>t.category))],M={ratio:320/240};return S?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[e.jsxs(j,{children:[e.jsx("title",{children:"Loading Gallery"}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap",rel:"stylesheet"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(a.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mb-4"}),e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:1},className:"text-gray-700 text-lg",children:"Loading Gallery..."})]})]}):k?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[e.jsxs(j,{children:[e.jsx("title",{children:"Gallery Error"}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap",rel:"stylesheet"})]}),e.jsxs("div",{className:"text-center max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Error Loading Gallery"}),e.jsx("p",{className:"text-gray-600 mb-4",children:k}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-6 rounded-lg",children:"Try Again"})]})]}):e.jsxs("div",{className:"relative overflow-hidden font-sans",children:[e.jsxs(j,{children:[e.jsx("title",{children:"Gallery | Visual Story"}),e.jsx("meta",{name:"description",content:"Explore our gallery of images and videos"}),e.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap",rel:"stylesheet"})]}),e.jsxs("div",{className:"relative h-[50vh] min-h-[400px] max-h-[600px] overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t bg-blue-800"}),e.jsx("div",{className:"relative z-10 h-full flex flex-col justify-end pb-12 sm:pb-20 px-4 sm:px-6 lg:px-8",children:e.jsxs(a.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"max-w-7xl mx-auto text-center","data-aos":"fade-up",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 sm:mb-6",children:["Our ",e.jsx("span",{className:"text-blue-400",children:"Gold"})," Story"]}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-6 sm:mb-10",children:"Explore our curated collection of memorable moments and creative work"}),e.jsx(a.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 sm:py-3 px-6 sm:px-8 rounded-full shadow-lg text-sm sm:text-base",onClick:()=>g("all"),"data-aos":"fade-up","data-aos-delay":"200",children:"View All Works"})]})})]}),e.jsxs("div",{className:"max-w-8xl mx-auto py-12 sm:py-16 lg:py-20 px-4 sm:px-6 lg:px-8",children:[e.jsx(a.div,{className:"flex flex-wrap justify-center gap-2 mb-12 sm:mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},"data-aos":"fade-up",children:z.map(t=>e.jsx(a.button,{onClick:()=>g(t),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-3 sm:px-4 py-1 sm:py-2 rounded-full capitalize text-xs sm:text-sm font-medium transition-all duration-300 ${u===t?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-100 shadow-sm"}`,children:t.replace("-"," ")},t))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:o.map(t=>e.jsxs(a.div,{layoutId:`card-${t.id}`,onClick:()=>d(t.id),className:"group relative overflow-hidden rounded-lg sm:rounded-xl shadow-lg cursor-pointer",whileHover:{y:-5,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},"data-aos":"fade-up",style:{aspectRatio:M.ratio},children:[e.jsx("div",{className:"w-full h-full",children:t.type==="image"?e.jsx(a.img,{src:t.src,alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("video",{src:t.src,muted:!0,autoPlay:!0,loop:!0,playsInline:!0,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",preload:"metadata",poster:t.thumbnail||t.src,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsxs("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4 sm:p-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-white text-sm sm:text-base md:text-lg font-bold",children:t.title}),e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 mt-1 sm:mt-2",children:[e.jsx("span",{className:"inline-block px-2 sm:px-3 py-0.5 sm:py-1 bg-blue-600 text-white text-xs sm:text-sm rounded-full capitalize",children:t.category}),t.type==="video"&&e.jsx("span",{className:"inline-block px-2 sm:px-3 py-0.5 sm:py-1 bg-red-500 text-white text-xs sm:text-sm rounded-full",children:"Video"})]})]})})]},t.id))}),o.length===0&&e.jsxs(a.div,{className:"text-center py-12 sm:py-20",initial:{opacity:0},animate:{opacity:1},"data-aos":"fade-up",children:[e.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-gray-400 mb-3 sm:mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-medium text-gray-900 mb-1 sm:mb-2",children:"No items found"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto text-sm sm:text-base",children:"We couldn't find any items matching your selected category."}),e.jsx("button",{onClick:()=>g("all"),className:"mt-4 sm:mt-6 bg-blue-600 hover:bg-blue-700 text-white font-medium py-1.5 sm:py-2 px-4 sm:px-6 rounded-lg text-sm sm:text-base",children:"View All Items"})]})]}),e.jsx(W,{children:n&&e.jsxs(a.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(null),children:[e.jsx(a.div,{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),e.jsx(a.div,{layoutId:`card-${n}`,className:"relative z-10 bg-gray-900 rounded-lg sm:rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:t=>t.stopPropagation(),initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:30},children:l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${r?"fixed inset-0 z-50 bg-black":"relative"}`,children:[l.type==="image"?e.jsx(a.img,{src:l.src,alt:l.title,className:`${r?"w-full h-full object-contain":"w-full h-auto max-h-[70vh] object-contain"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2}}):e.jsx("div",{className:`${r?"fixed inset-0 flex items-center justify-center bg-black":"relative"}`,children:e.jsxs("video",{controls:!0,autoPlay:!0,className:`${r?"w-full h-full object-contain":"w-full h-auto max-h-[70vh]"}`,children:[e.jsx("source",{src:l.src,type:"video/mp4"}),"Your browser does not support the video tag."]})}),!r&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-gray-900/90 to-transparent p-4 sm:p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white",children:l.title}),e.jsxs("div",{className:"flex items-center mt-1 sm:mt-2 gap-1 sm:gap-2",children:[e.jsx("span",{className:"inline-block px-2 sm:px-3 py-0.5 sm:py-1 bg-blue-600 text-white text-xs sm:text-sm rounded-full capitalize",children:l.category}),l.type==="video"&&e.jsx("span",{className:"inline-block px-2 sm:px-3 py-0.5 sm:py-1 bg-red-500 text-white text-xs sm:text-sm rounded-full",children:"Video"})]})]}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[l.type==="image"&&e.jsx("button",{onClick:()=>v(!r),className:"text-white hover:text-gray-200 transition-colors p-1 sm:p-2","aria-label":"Toggle fullscreen",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),e.jsx("button",{onClick:()=>d(null),className:"text-white hover:text-gray-200 transition-colors p-1 sm:p-2","aria-label":"Close",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})}),r&&e.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-50",children:e.jsx("button",{onClick:()=>v(!1),className:"text-white hover:text-gray-200 transition-colors p-1 sm:p-2 bg-gray-900/50 rounded-full","aria-label":"Exit fullscreen",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]}),o.length>1&&!r&&l.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),p("prev")},className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 sm:p-3 rounded-full backdrop-blur-sm transition-all","aria-label":"Previous image",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),p("next")},className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-2 sm:p-3 rounded-full backdrop-blur-sm transition-all","aria-label":"Next image",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),o.length>1&&!r&&l.type==="image"&&e.jsx("div",{className:"absolute bottom-2 sm:bottom-4 left-0 right-0 flex justify-center px-2 sm:px-4",children:e.jsx("div",{className:"flex overflow-x-auto py-1 sm:py-2 gap-1 sm:gap-2 max-w-full",children:o.map((t,s)=>e.jsx("button",{onClick:x=>{x.stopPropagation(),d(t.id)},className:`flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 md:w-16 md:h-16 rounded-md overflow-hidden border-2 transition-all ${n===t.id?"border-blue-500 scale-110":"border-transparent hover:border-white/50"}`,children:t.type==="image"?e.jsx("img",{src:t.src,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"}):e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.thumbnail||t.src,alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"})})})]})},t.id))})})]})})]})})]})};export{O as default};
