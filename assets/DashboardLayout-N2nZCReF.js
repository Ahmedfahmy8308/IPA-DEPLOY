import{c as N,d as k,u as I,r as n,j as e,p as D,m,L as j}from"./index-DO_rZ_l7.js";import{A as O,a as P,b as H,L as R}from"./avatar-BMY5V_Vo.js";import{C}from"./chevron-down-BekdBF97.js";import{L as T,M as z}from"./menu-BwW2TftG.js";import{H as W}from"./house-DChaXa1q.js";import{B as q,S as B}from"./settings-DmGeEUMi.js";import{U as F}from"./user-DPPTYl3C.js";import{m as l}from"./proxy-B_oRtJ40.js";import{A as p}from"./index-BzJhFMgG.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=N("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=N("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=N("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Q=()=>{const s=k(),i=I(),[r,h]=n.useState(""),[d,u]=n.useState([]),[x,g]=n.useState(!1),c=n.useRef(null);n.useEffect(()=>{const a=t=>{c.current&&!c.current.contains(t.target)&&g(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const f=[{title:"Homepage Settings",path:"/admin/homepage"},{title:"Courses Management",path:"/admin/courses"},{title:"Students Management",path:"/admin/students"},{title:"Events Management",path:"/admin/events"},{title:"Instructors Management",path:"/admin/instructors"},{title:"Partners Management",path:"/admin/partners"},{title:"Accreditation Management",path:"/admin/accreditation"},{title:"Q&A Management",path:"/admin/qa"},{title:"Gallery Management",path:"/admin/gallery"},{title:"Registration Management",path:"/admin/registration"}],b=a=>{a.preventDefault(),r.trim()&&d.length>0&&i(d[0].path)};n.useEffect(()=>{if(r.trim()===""){u([]);return}const a=f.filter(t=>t.title.toLowerCase().includes(r.toLowerCase()));u(a)},[r]);const v=()=>{const a=s.pathname,t={"/admin/dashboard":"Dashboard","/admin/homepage":"Homepage Settings","/admin/about":"About Page Settings","/admin/footer":"Footer Settings","/admin/courses":"Courses Management","/admin/students":"Students Management","/admin/events":"Events Management","/admin/partners":"Partners Management","/admin/instructors":"Instructors Management","/admin/accreditation":"Accreditation Management","/admin/qa":"Q&A Management","/admin/gallery":"Gallery Management","/admin/registration":"Registration Management"};return a.startsWith("/courses/add")?"Add New Course":a.startsWith("/courses/edit")?"Edit Course":a.startsWith("/courses/reviews")?"Course Reviews":a.startsWith("/events/add")?"Add New Event":a.startsWith("/events/edit")?"Edit Event":t[a]||"Admin Panel"},y=async()=>{try{await D(),i("/login")}catch(a){console.error("Logout error:",a),i("/login")}};return e.jsx("nav",{className:"bg-white border-b border-gray-100 px-6 py-3 shadow-sm sticky top-0 z-50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("h1",{className:"text-xl font-semibold text-gray-800 flex items-center",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent",children:v()})})}),e.jsx("div",{className:"flex-1 flex justify-center",children:e.jsx("div",{className:"relative w-full max-w-md",children:e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(S,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:"Search modules...",value:r,onChange:a=>h(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full transition-all duration-200"}),d.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 overflow-hidden",children:d.map((a,t)=>e.jsxs("div",{onClick:()=>i(a.path),className:"px-4 py-3 hover:bg-blue-50 cursor-pointer text-sm text-gray-700 border-b border-gray-100 last:border-b-0 transition-colors duration-150 flex items-center",children:[e.jsx(S,{className:"h-3.5 w-3.5 text-gray-400 mr-2"}),a.title]},t))})]})})})}),e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer group",onClick:()=>g(!x),children:[e.jsxs("div",{className:"text-right hidden md:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Admin User"}),e.jsx("div",{className:"text-xs text-gray-500",children:"admin@ipaegy.com"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"h-8 w-8",children:e.jsx(P,{className:"bg-gradient-to-r from-blue-500 to-blue-300 text-white font-medium",children:"AU"})}),e.jsx(C,{className:`h-4 w-4 ml-1 text-gray-500 transition-transform duration-200 ${x?"rotate-180":""}`})]})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-100 z-50 py-1 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Admin User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:"admin@ipaegy.com"})]}),e.jsxs("div",{onClick:()=>i("/"),className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer transition-colors duration-150",children:[e.jsx(H,{className:"w-4 h-4 mr-3 text-gray-400"}),"Back to Website"]}),e.jsxs("div",{onClick:y,className:"flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 cursor-pointer transition-colors duration-150",children:[e.jsx(T,{className:"w-4 h-4 mr-3 text-red-400"}),"Log Out"]})]})]})})]})})},M={"::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},E="admin-sidebar-collapsed",A="admin-sidebar-expanded-items",w={duration:.5,ease:"easeOut"},L=(s,i)=>{let r;return(...h)=>{clearTimeout(r),r=setTimeout(()=>s(...h),i)}},_=()=>{const[s,i]=n.useState(()=>{const t=localStorage.getItem(E);return t!==null?JSON.parse(t):!1}),[r,h]=n.useState(()=>{const t=localStorage.getItem(A);return t!==null?JSON.parse(t):{}}),[d,u]=n.useState(null),x=k();n.useEffect(()=>{localStorage.setItem(E,JSON.stringify(s))},[s]),n.useEffect(()=>{localStorage.setItem(A,JSON.stringify(r))},[r]);const g=n.useMemo(()=>[{icon:R,label:"Dashboard",href:"/admin/dashboard"},{icon:W,label:"Homepage Management",href:"",submenu:[{label:"Homepage",href:"/admin/homepage"},{label:"Footer",href:"/admin/footer"},{label:"Partners",href:"/admin/partners"},{label:"Accreditation",href:"/admin/accreditation"}]},{icon:G,label:"Pages Management",href:"",submenu:[{label:"About",href:"/admin/about"},{label:"Team",href:"/admin/team"},{label:"Events",href:"/admin/events"},{label:"Q&A",href:"/admin/qa"},{label:"Gallery",href:"/admin/gallery"}]},{icon:q,label:"Course Management",href:"",submenu:[{label:"Courses",href:"/admin/courses"},{label:"Instructors",href:"/admin/instructors"},{label:"Students",href:"/admin/students"}]},{icon:U,label:"ELMS Management",href:"",submenu:[{label:"Groups",href:"/admin/ELMS/Groups"},{label:"Sessions",href:"/admin/ELMS/Sessions"},{label:"Student Assignments",href:"/admin/ElMS/Student/Assignments"},{label:"Tickets",href:"/admin/ElMS/Student/Tickets"}]},{icon:F,label:"User Management",href:"",submenu:[{label:"Instructors",href:"/admin/registration/Instructors"},{label:"Students",href:"/admin/registration/Students"},{label:"Messages",href:"/admin/messages"}]}],[]),c=t=>x.pathname.startsWith(t),f=()=>{i(!s)},b=t=>{h(o=>({...o,[t]:!o[t]}))},v=L(t=>{u(t)},100),y=L(()=>{u(null)},100),a=t=>s?d===t.label:r[t.label];return e.jsxs(l.aside,{className:m("bg-gradient-to-b from-[#1E293B] to-[#0F172A] text-white h-full overflow-y-auto","flex flex-col border-r border-r-gray-700","scrollbar-hide"),initial:{width:300},animate:{width:s?80:300},transition:{duration:.3,ease:"easeInOut"},style:M,children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-b-gray-700",children:[e.jsx(p,{children:!s&&e.jsx(l.span,{className:"font-bold text-xl whitespace-nowrap",initial:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:"Admin Panel"})}),e.jsx(l.button,{onClick:f,className:"p-2 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:s?"Expand":"Collapse",children:e.jsx(z,{size:20})})]}),e.jsx("nav",{className:"flex-1 p-2 overflow-y-auto scrollbar-hide",style:M,children:g.map(t=>e.jsxs("div",{className:"mb-1",onMouseEnter:()=>v(t.label),onMouseLeave:y,children:[e.jsx(l.div,{whileHover:{scale:1.01},transition:w,children:e.jsxs(j,{to:t.href,className:m("flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-gray-700/50 hover:text-white transition-all rounded-lg",c(t.href)&&"bg-gray-700/80 text-white font-medium shadow-md","group"),onClick:o=>{t.submenu&&(o.preventDefault(),b(t.label))},children:[e.jsx(t.icon,{size:20,className:m("flex-shrink-0",c(t.href)?"text-white":"text-gray-400 group-hover:text-white")}),e.jsx(p,{children:!s&&e.jsx(l.span,{className:"text-sm font-medium whitespace-nowrap",initial:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:w,children:t.label})}),t.submenu&&!s&&e.jsx(l.div,{className:"ml-auto",animate:{rotate:r[t.label]?0:-90},transition:{duration:.2},children:e.jsx(C,{className:"h-4 w-4"})})]})}),e.jsx(p,{children:t.submenu&&(a(t)||s&&d===t.label)&&e.jsx(l.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,width:s?"200px":"auto"},exit:{height:0,opacity:0},transition:w,className:m("overflow-hidden",s&&"absolute left-[80px] bg-[#1E293B] rounded-lg shadow-lg z-50 p-2 mt-[-30px]"),children:e.jsx("div",{className:m("mt-1 space-y-1",s?"":"ml-6 pl-2 border-l-2 border-l-gray-700"),children:t.submenu.map(o=>e.jsx(l.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e.jsx(j,{to:o.href,className:m("block px-3 py-2 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white rounded-md transition-colors",c(o.href)&&"bg-gray-700/80 text-white font-medium"),children:o.label})},o.label))})})})]},t.label))}),e.jsx(j,{to:"/admin/settings",children:e.jsx("div",{className:"p-4 border-t border-t-gray-700",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors cursor-pointer",children:[e.jsx(B,{size:18}),e.jsx(p,{children:!s&&e.jsx(l.span,{className:"text-sm whitespace-nowrap",initial:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:"Settings"})})]})})})]})},ae=({children:s})=>e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(_,{}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Q,{}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-6",children:e.jsx("div",{className:"container mx-auto",children:s})})]})]})});export{ae as default};
