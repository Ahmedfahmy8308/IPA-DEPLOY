import{p,r,j as e,A as b,q as j,C as y,a as m}from"./index-DNTIH_ym.js";import{A as N}from"./arrow-right-BG2ZIhMm.js";const C=()=>{const{typeId:a}=p(),[o,x]=r.useState([]),[l,u]=r.useState(null),[h,i]=r.useState(!0),[c,d]=r.useState(null);return r.useEffect(()=>{(async()=>{try{i(!0),d(null);const t=await fetch(`${m}Courses/get-courses-by-type/${a}`);if(!t.ok)throw new Error(`Failed to fetch courses (Status: ${t.status})`);const g=await t.json();x(g.data);const n=await fetch(`${m}CourseTypes/${a}`);if(!n.ok)throw new Error(`Failed to fetch course type (Status: ${n.status})`);const f=(await n.json()).data;u(f)}catch(t){console.error("Fetch error:",t),d(t instanceof Error?t.message:"Failed to load data")}finally{i(!1)}})()},[a]),h?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-600",children:"Loading courses..."})]})}):c?e.jsx("div",{className:"flex items-center justify-center min-h-[60vh] bg-gray-50",children:e.jsxs("div",{className:"text-center max-w-md p-6 bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading courses"}),e.jsx("p",{className:"text-gray-600 mb-4",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Try Again"})]})}):e.jsx("main",{className:"bg-gray-50 py-12 md:py-16 lg:py-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12 md:mb-16",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4",children:["Our ",e.jsx("span",{className:"text-blue-600",children:"Courses"})," for ",e.jsx("span",{className:"text-blue-400",children:(l==null?void 0:l.name)||"Course Type"})]}),e.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-3xl mx-auto",children:"Explore our comprehensive training programs designed to boost your skills and career"})]}),o.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-sm",children:[e.jsx("div",{className:"inline-block bg-gray-100 p-6 rounded-full mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No courses available"}),e.jsx("p",{className:"text-gray-500",children:"We don't have any courses for this category yet. Please check back later."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:o.map((s,t)=>e.jsxs("div",{className:"group bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1",style:{animation:`fade-in-up 0.5s ease-out ${t*.1}s forwards`,opacity:1},children:[e.jsxs("div",{className:"relative overflow-hidden h-48",children:[e.jsx("img",{src:b+"/"+s.imageUrl,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 line-clamp-2",children:s.name}),e.jsxs("div",{className:"flex items-center bg-blue-50 text-blue-600 px-2 py-1 rounded-md text-sm font-medium",children:[e.jsx(j,{className:"w-4 h-4 mr-1 fill-current"}),s.rating.toFixed(1)]})]}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s.shortDescription}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{className:"text-sm",children:[s.hoursCount," hours"]})]}),e.jsxs("span",{className:"text-lg font-semibold text-blue-600",children:["$",s.priceAfterDiscount]})]}),e.jsxs("a",{href:`/courses/details/${s.id}`,className:"mt-6 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-300",children:["View Details ",e.jsx(N,{className:"w-4 h-4 ml-2"})]})]})]},s.id))})]})})};export{C as default};
