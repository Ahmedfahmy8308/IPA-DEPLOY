import{c as k,i as C,r as i,j as e,b as p,a as y,A as d}from"./index-DO_rZ_l7.js";import{m as r}from"./proxy-B_oRtJ40.js";import{C as U}from"./clock-YSP-u6TQ.js";import{S as x}from"./star-D1wcSO4B.js";import{C as L}from"./check-BetgxMgk.js";import{A as S}from"./award-DIeX4VHz.js";import{P as D}from"./phone-tZROn-F_.js";import{A}from"./index-BzJhFMgG.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=k("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),R=()=>{var b;const{courseId:h}=C(),[s,j]=i.useState(null),[N,u]=i.useState(!0),[g,f]=i.useState(null),[F,T]=i.useState(0),[v,c]=i.useState(!1),[I,_]=i.useState(!1);i.useEffect(()=>{(async()=>{try{u(!0),f(null);const l=(await p.get(y+`Courses/${h}`)).data.data;if(!l)throw new Error("No course data received from the server");const o={...l,imageUrl:l.imageUrl?`${d}/${l.imageUrl}`:"",instructor:l.instructor?{...l.instructor,imageUrl:l.instructor.imageUrl?`${d}/${l.instructor.imageUrl}`:""}:{id:0,name:"Instructor information unavailable",jobTitle:"",imageUrl:"",description:"",rating:"",socialMediaHTML:""},comments:l.comments?l.comments.map(m=>({...m,imageUrl:m.imageUrl?`${d}/${m.imageUrl}`:""})):[],courseType:l.courseType?{...l.courseType,imageUrl:l.courseType.imageUrl?`${d}/${l.courseType.imageUrl}`:""}:{id:0,name:"",description:"",imageUrl:""}};j(o)}catch(a){console.error("Fetch error:",a),f(a instanceof Error?a.message:"Failed to load course details")}finally{u(!1)}})()},[h]);const n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EGP"}).format(t),w=t=>{const a={year:"numeric",month:"long",day:"numeric"};return new Date(t).toLocaleDateString("en-US",a)};return N?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(r.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto mb-6"}),e.jsx(r.p,{initial:{opacity:.5},animate:{opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:1.5},className:"text-lg font-medium text-gray-600",children:"Loading course details..."})]})}):g?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Error loading course"}),e.jsx("p",{className:"text-gray-600 mb-6",children:g}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md transition-all duration-300",children:"Try Again"})]})}):s?e.jsxs("div",{className:"bg-gray-50",children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-black/50 z-0"}),e.jsxs("div",{className:"relative bg-cover bg-center h-64 md:h-[40rem]",style:{backgroundImage:`url(${s.imageUrl})`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent z-0"}),e.jsx("div",{className:"container mx-auto px-4 h-full flex items-end pb-8 md:pb-24 relative z-10",children:e.jsxs(r.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},className:"max-w-3xl text-white",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs(r.span,{whileHover:{scale:1.05},className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium",children:[e.jsx(U,{className:"w-3 h-3 mr-1"})," ",s.hoursCount," hours"]}),e.jsxs(r.span,{whileHover:{scale:1.05},className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-medium",children:[e.jsx(x,{className:"w-3 h-3 mr-1 fill-current"})," ",s.rating.toFixed(1)," Rating"]})]}),e.jsx("h1",{className:"text-2xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:s.name}),e.jsx("p",{className:"text-sm md:text-2xl text-gray-200 mb-6 leading-relaxed",children:s.shortDescription}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[e.jsxs(r.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>c(!0),className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg transition-all duration-300 text-sm font-semibold",children:["Enroll Now - ",n(s.priceAfterDiscount)]}),s.previewUrl&&e.jsx(r.a,{whileHover:{scale:1.03},whileTap:{scale:.98},href:s.previewUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-3 bg-white/10 backdrop-blur-sm text-white rounded-lg hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 shadow-lg transition-all duration-300 text-sm font-semibold text-center cursor-pointer",children:"Watch Preview"})]})]})})]})]}),e.jsx("div",{className:"container mx-auto px-4 py-8 relative",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"sticky top-[25px] z-10 bg-white shadow-md mb-6 -mx-4 p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n(s.priceAfterDiscount)}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("span",{className:"text-sm line-through text-gray-500 mr-2",children:n(s.priceBeforeDiscount)}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-md text-xs font-semibold",children:[s.discountPercentage,"% OFF"]})]})]}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg text-sm font-semibold",children:"Enroll Now"})]})}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Course Information"}),e.jsx("p",{className:"text-gray-700 mb-4 text-sm leading-relaxed",children:s.courseInfo}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-xs",children:"Start Date"}),e.jsx("p",{className:"text-gray-700 text-sm",children:w(s.scheduleStart)})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-xs",children:"Duration"}),e.jsxs("p",{className:"text-gray-700 text-sm",children:[s.weeksCount," weeks (",s.hoursCount," hours)"]})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-xs",children:"Schedule"}),e.jsx("p",{className:"text-gray-700 text-sm",children:s.sessionTimings})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-xs",children:"Location"}),e.jsx("p",{className:"text-gray-700 text-sm",children:s.location})]})]})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"What You'll Learn"}),e.jsx("div",{className:"space-y-3",children:s.whatYouWillLearn.split("|").map((t,a)=>e.jsxs(r.div,{whileHover:{x:5},className:"flex items-start bg-gray-50 p-3 rounded-lg",children:[e.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-1 rounded-full mr-3",children:e.jsx(L,{className:"h-4 w-4 text-blue-600"})}),e.jsx("p",{className:"text-gray-700 text-sm font-medium",children:t})]},a))})]}),s.comments&&s.comments.length>0&&e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Student Reviews"}),e.jsxs("div",{className:"flex flex-col mb-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mr-3",children:s.rating.toFixed(1)}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center mb-1",children:[1,2,3,4,5].map(t=>e.jsx(x,{className:`w-4 h-4 ${t<=Math.round(s.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},t))}),e.jsxs("div",{className:"text-xs text-gray-600",children:["Based on ",s.comments.length," reviews"]})]})]}),e.jsx("div",{className:"w-full",children:[5,4,3,2,1].map(t=>{const a=s.comments.filter(o=>Math.round(o.rating)===t).length,l=a/s.comments.length*100;return e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsxs("div",{className:"w-8 text-xs text-gray-600",children:[t," star"]}),e.jsx("div",{className:"flex-1 mx-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx(r.div,{initial:{width:0},animate:{width:`${l}%`},transition:{delay:.2+(5-t)*.1},className:"h-full bg-yellow-400"})}),e.jsx("div",{className:"w-8 text-right text-xs text-gray-600",children:a})]},t)})})]}),e.jsx("div",{className:"space-y-4",children:s.comments.map(t=>e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"border-b border-gray-200 pb-4 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-8 h-8 rounded-full object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex mr-1",children:[1,2,3,4,5].map(a=>e.jsx(x,{className:`w-3 h-3 ${a<=t.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},a))}),e.jsx("span",{className:"text-xs text-gray-500",children:t.jobTitle})]})]})]}),e.jsx("p",{className:"text-gray-700 text-xs",children:t.text})]},t.id))})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About the Instructor"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(r.img,{whileHover:{scale:1.03},src:s.instructor.imageUrl,alt:s.instructor.name,className:"w-16 h-16 rounded-lg object-cover shadow"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:s.instructor.name}),e.jsx("p",{className:"text-gray-600 text-xs mb-3 leading-relaxed",children:s.instructor.description}),((b=s.instructor.qualifications)==null?void 0:b.length)>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Qualifications"}),e.jsx("ul",{className:"space-y-2",children:s.instructor.qualifications.map((t,a)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(S,{className:"w-3 h-3 text-yellow-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 text-xs font-medium",children:t})]},a))})]})]})]})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-xl shadow-md p-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3 text-sm",children:"Need help deciding?"}),e.jsx("p",{className:"text-gray-600 text-xs mb-4",children:"Our course advisors are here to help you choose the right course."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"/contact",className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium",children:"Live Chat"})]}),e.jsx("span",{className:"text-blue-600 text-xs",children:"→"})]}),e.jsxs("a",{href:"/contact",className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"font-medium",children:"Call Us"})]}),e.jsx("span",{className:"text-blue-600 text-xs",children:"→"})]})]})]})]})}),e.jsx(A,{children:v&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:e.jsxs(r.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-xl w-full max-w-md shadow-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-600 to-indigo-700"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Enroll in ",s==null?void 0:s.name]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 mr-2",children:n((s==null?void 0:s.priceAfterDiscount)||0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm line-through text-gray-500",children:n((s==null?void 0:s.priceBeforeDiscount)||0)}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-md text-xs font-semibold",children:[s==null?void 0:s.discountPercentage,"% OFF"]})]})]}),e.jsxs("form",{className:"space-y-4",onSubmit:async t=>{t.preventDefault();const a=new FormData(t.target),l={courseId:(s==null?void 0:s.id)||0,name:a.get("name"),phone:a.get("phone"),email:a.get("email")};try{await p.post(`${y}StudentEnrollment`,l),alert("Enrollment successful!"),c(!1)}catch(o){console.error("Enrollment error:",o),alert("Failed to enroll. Please try again.")}},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-xs font-medium text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Your full name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",placeholder:"your@email.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",placeholder:"+2 (___) ___-____",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all text-sm",required:!0})]}),e.jsx("div",{className:"pt-2",children:e.jsxs(r.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",className:"w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-lg text-sm font-semibold transition-all duration-300",children:["Complete Enrollment - ",n((s==null?void 0:s.priceAfterDiscount)||0)]})})]})]}),e.jsx("button",{onClick:()=>c(!1),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-center max-w-md p-8 bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-6",children:e.jsx("svg",{className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Course Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The course you're looking for doesn't exist or may have been removed."}),e.jsx("a",{href:"/courses",className:"inline-block px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 shadow-md transition-all duration-300",children:"Browse Courses"})]})})};export{R as default};
