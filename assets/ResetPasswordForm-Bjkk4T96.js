import{r as t,u as g,f as b,j as e,a as h,y as l}from"./index-DPuvoll-.js";function j(){const[o,d]=t.useState(""),[n,f]=t.useState(""),[i,m]=t.useState(""),[u,c]=t.useState(!1),p=g(),[r]=b();t.useEffect(()=>{const s=r.get("email"),a=r.get("token");s&&d(s),a&&f(a)},[r]);const x=async s=>{s.preventDefault(),c(!0);try{const a=await fetch(`${h}Auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,token:n,newPassword:i})});if(a.ok)l.success("Password has been reset successfully!"),p("/login");else{const y=await a.text();l.error(`Reset failed: ${y}`)}}catch{l.error("An error occurred. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-2xl shadow-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Reset Your Password"}),e.jsxs("form",{onSubmit:x,className:"space-y-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-envelope absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",value:o,readOnly:!0,placeholder:"Email",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-key absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",value:n,readOnly:!0,placeholder:"Token",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"fas fa-lock absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"password",value:i,onChange:s=>m(s.target.value),placeholder:"New Password",required:!0,className:"w-full pl-10 pr-3 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Resetting...":"Reset Password"})]})]})})}export{j as default};
