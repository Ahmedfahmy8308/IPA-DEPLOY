import{r as o,b as F,a as U,y as E,j as e,R as ve}from"./index-DSbC69U8.js";import{d as ae}from"./dayjs.min-Cc9LiYxs.js";import{R as A}from"./FileTextOutlined-CgcXOBqU.js";import{g as we,r as Ne,e as me,k as $e,c as G,p as Ce,a1 as Se,l as Ie,bd as Oe,Q as ke,U as Re,by as Ee,bz as ne,bA as Me,bB as Te,aJ as ze,aK as Ae,z as I,bC as Be,B as j,E as Le,F as Pe,bD as De,A as He,bk as oe,G as _e}from"./AntdIcon-CcFxU4-7.js";import{T as B}from"./index-BkN0jseT.js";import{R as le,a as ie,M as Ve}from"./CloseOutlined-r2WrYXzD.js";import{R as Fe}from"./CheckCircleOutlined-d02a972Z.js";import{R as Ue,b as Ye,a as We}from"./index-ESMdZDDT.js";import"./index-DcAOwtUU.js";const L=(r,t,a,s,l)=>({background:r,border:`${me(s.lineWidth)} ${s.lineType} ${t}`,[`${l}-icon`]:{color:a}}),Ge=r=>{const{componentCls:t,motionDurationSlow:a,marginXS:s,marginSM:l,fontSize:m,fontSizeLG:f,lineHeight:g,borderRadiusLG:x,motionEaseInOutCirc:h,withDescriptionIconSize:c,colorText:w,colorTextHeading:b,withDescriptionPadding:N,defaultPadding:d}=r;return{[t]:Object.assign(Object.assign({},Ne(r)),{position:"relative",display:"flex",alignItems:"center",padding:d,wordWrap:"break-word",borderRadius:x,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:s,lineHeight:0},"&-description":{display:"none",fontSize:m,lineHeight:g},"&-message":{color:b},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${h}, opacity ${a} ${h},
        padding-top ${a} ${h}, padding-bottom ${a} ${h},
        margin-bottom ${a} ${h}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:N,[`${t}-icon`]:{marginInlineEnd:l,fontSize:c,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:s,color:b,fontSize:f},[`${t}-description`]:{display:"block",color:w}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Qe=r=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:s,colorSuccessBg:l,colorWarning:m,colorWarningBorder:f,colorWarningBg:g,colorError:x,colorErrorBorder:h,colorErrorBg:c,colorInfo:w,colorInfoBorder:b,colorInfoBg:N}=r;return{[t]:{"&-success":L(l,s,a,r,t),"&-info":L(N,b,w,r,t),"&-warning":L(g,f,m,r,t),"&-error":Object.assign(Object.assign({},L(c,h,x,r,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},Ke=r=>{const{componentCls:t,iconCls:a,motionDurationMid:s,marginXS:l,fontSizeIcon:m,colorIcon:f,colorIconHover:g}=r;return{[t]:{"&-action":{marginInlineStart:l},[`${t}-close-icon`]:{marginInlineStart:l,padding:0,overflow:"hidden",fontSize:m,lineHeight:me(m),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:f,transition:`color ${s}`,"&:hover":{color:g}}},"&-close-text":{color:f,transition:`color ${s}`,"&:hover":{color:g}}}}},Xe=r=>({withDescriptionIconSize:r.fontSizeHeading3,defaultPadding:`${r.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${r.paddingMD}px ${r.paddingContentHorizontalLG}px`}),qe=we("Alert",r=>[Ge(r),Qe(r),Ke(r)],Xe);var ce=function(r,t){var a={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(a[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(a[s[l]]=r[s[l]]);return a};const Je={success:We,info:Ye,error:ke,warning:Ue},Ze=r=>{const{icon:t,prefixCls:a,type:s}=r,l=Je[s]||null;return t?Oe(t,o.createElement("span",{className:`${a}-icon`},t),()=>({className:G(`${a}-icon`,t.props.className)})):o.createElement(l,{className:`${a}-icon`})},et=r=>{const{isClosable:t,prefixCls:a,closeIcon:s,handleClose:l,ariaProps:m}=r,f=s===!0||s===void 0?o.createElement(Re,null):s;return t?o.createElement("button",Object.assign({type:"button",onClick:l,className:`${a}-close-icon`,tabIndex:0},m),f):null},ue=o.forwardRef((r,t)=>{const{description:a,prefixCls:s,message:l,banner:m,className:f,rootClassName:g,style:x,onMouseEnter:h,onMouseLeave:c,onClick:w,afterClose:b,showIcon:N,closable:d,closeText:$,closeIcon:y,action:C,id:M}=r,T=ce(r,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[R,P]=o.useState(!1),z=o.useRef(null);o.useImperativeHandle(t,()=>({nativeElement:z.current}));const{getPrefixCls:D,direction:H,closable:v,closeIcon:n,className:i,style:p}=$e("alert"),u=D("alert",s),[O,_,V]=qe(u),ge=S=>{var k;P(!0),(k=r.onClose)===null||k===void 0||k.call(r,S)},te=o.useMemo(()=>r.type!==void 0?r.type:m?"warning":"info",[r.type,m]),he=o.useMemo(()=>typeof d=="object"&&d.closeIcon||$?!0:typeof d=="boolean"?d:y!==!1&&y!==null&&y!==void 0?!0:!!v,[$,y,d,v]),re=m&&N===void 0?!0:N,pe=G(u,`${u}-${te}`,{[`${u}-with-description`]:!!a,[`${u}-no-icon`]:!re,[`${u}-banner`]:!!m,[`${u}-rtl`]:H==="rtl"},i,f,g,V,_),xe=Ce(T,{aria:!0,data:!0}),be=o.useMemo(()=>typeof d=="object"&&d.closeIcon?d.closeIcon:$||(y!==void 0?y:typeof v=="object"&&v.closeIcon?v.closeIcon:n),[y,d,$,n]),ye=o.useMemo(()=>{const S=d??v;if(typeof S=="object"){const{closeIcon:k}=S;return ce(S,["closeIcon"])}return{}},[d,v]);return O(o.createElement(Se,{visible:!R,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:S=>({maxHeight:S.offsetHeight}),onLeaveEnd:b},(S,k)=>{let{className:se,style:je}=S;return o.createElement("div",Object.assign({id:M,ref:Ie(z,k),"data-show":!R,className:G(pe,se),style:Object.assign(Object.assign(Object.assign({},p),x),je),onMouseEnter:h,onMouseLeave:c,onClick:w,role:"alert"},xe),re?o.createElement(Ze,{description:a,icon:r.icon,prefixCls:u,type:te}):null,o.createElement("div",{className:`${u}-content`},l?o.createElement("div",{className:`${u}-message`},l):null,a?o.createElement("div",{className:`${u}-description`},a):null),C?o.createElement("div",{className:`${u}-action`},C):null,o.createElement(et,{isClosable:he,prefixCls:u,closeIcon:be,handleClose:ge,ariaProps:ye}))}))});function tt(r,t,a){return t=ne(t),Ee(r,Me()?Reflect.construct(t,a||[],ne(r).constructor):t.apply(r,a))}let rt=function(r){function t(){var a;return Ae(this,t),a=tt(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return Te(t,r),ze(t,[{key:"componentDidCatch",value:function(s,l){this.setState({error:s,info:l})}},{key:"render",value:function(){const{message:s,description:l,id:m,children:f}=this.props,{error:g,info:x}=this.state,h=(x==null?void 0:x.componentStack)||null,c=typeof s>"u"?(g||"").toString():s,w=typeof l>"u"?h:l;return g?o.createElement(ue,{id:m,type:"error",message:c,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},w)}):f}}])}(o.Component);const fe=ue;fe.ErrorBoundary=rt;var st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},at={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"},lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function Q(){return Q=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Q.apply(this,arguments)}const ct=(r,t)=>o.createElement(I,Q({},r,{ref:t,icon:st})),dt=o.forwardRef(ct);function K(){return K=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},K.apply(this,arguments)}const mt=(r,t)=>o.createElement(I,K({},r,{ref:t,icon:at})),ut=o.forwardRef(mt);function X(){return X=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},X.apply(this,arguments)}const ft=(r,t)=>o.createElement(I,X({},r,{ref:t,icon:nt})),de=o.forwardRef(ft);function q(){return q=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},q.apply(this,arguments)}const gt=(r,t)=>o.createElement(I,q({},r,{ref:t,icon:ot})),ht=o.forwardRef(gt);function J(){return J=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},J.apply(this,arguments)}const pt=(r,t)=>o.createElement(I,J({},r,{ref:t,icon:Be})),xt=o.forwardRef(pt);function Z(){return Z=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Z.apply(this,arguments)}const bt=(r,t)=>o.createElement(I,Z({},r,{ref:t,icon:lt})),Y=o.forwardRef(bt);function ee(){return ee=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},ee.apply(this,arguments)}const yt=(r,t)=>o.createElement(I,ee({},r,{ref:t,icon:it})),jt=o.forwardRef(yt),Rt=()=>{const[r,t]=o.useState([]),[a,s]=o.useState(!1),[l,m]=o.useState(""),[f,g]=o.useState(""),[x,h]=o.useState(!1),[c,w]=o.useState(null),[b,N]=o.useState("all"),d={0:"Technical Issue",1:"Account Problem",2:"Billing Question",3:"Feedback",4:"Other",TechnicalIssue:"Technical Issue",AccountProblem:"Account Problem",BillingQuestion:"Billing Question",Feedback:"Feedback",Other:"Other"};o.useEffect(()=>{$()},[]);const $=async()=>{s(!0),g("");try{const n=await F.get(`${U}SupportTicket`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t(n.data.data||[])}catch{g("Failed to fetch tickets"),E.error("Failed to load tickets")}finally{s(!1)}},y=o.useMemo(()=>{let n=r;if(b==="read"?n=n.filter(i=>i.read):b==="unread"&&(n=n.filter(i=>!i.read)),l){const i=l.toLowerCase();n=n.filter(p=>{var u,O;return((u=p.title)==null?void 0:u.toLowerCase().includes(i))||((O=p.email)==null?void 0:O.toLowerCase().includes(i))||(d[p.category]||p.category).toLowerCase().includes(i)})}return n},[l,r,b]),C=o.useMemo(()=>{const n=r.length,i=r.filter(V=>V.read).length,p=n-i,u=r.length>0?Math.floor(Math.random()*20)-10:0,O=i>0?Math.floor(Math.random()*20)-5:0,_=p>0?Math.floor(Math.random()*20)-5:0;return{total:n,read:i,unread:p,totalTrend:u,readTrend:O,trendUnread:_}},[r]),M=async n=>{s(!0);try{await F.put(`${U}SupportTicket/${n}/mark-read`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t(i=>i.map(p=>p.id===n?{...p,read:!0}:p)),E.success("Ticket marked as read")}catch{E.error("Failed to mark as read")}finally{s(!1)}},T=async n=>{s(!0);try{await F.delete(`${U}SupportTicket/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t(i=>i.filter(p=>p.id!==n)),E.success("Ticket deleted successfully")}catch{E.error("Failed to delete ticket")}finally{s(!1)}},R=n=>{w(n),h(!0),n.read||M(n.id)},P=()=>{$()},z=()=>{$()},D=[{key:"all",label:"All Tickets"},{key:"read",label:"Read Only"},{key:"unread",label:"Unread Only"}],H=[{title:"Title",dataIndex:"title",key:"title",render:(n,i)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"mr-2 text-blue-500"}),e.jsx("span",{className:`font-medium ${i.read?"text-gray-600":"text-gray-900"}`,children:n})]}),sorter:(n,i)=>n.title.localeCompare(i.title)},{title:"Email",dataIndex:"email",key:"email",render:n=>e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"mr-2 text-green-500"}),e.jsx("a",{href:`mailto:${n}`,className:"text-blue-600 hover:underline",children:n})]})},{title:"Category",dataIndex:"category",key:"category",render:n=>e.jsx(B,{color:v(n),children:d[n]||n}),filters:Object.entries(d).map(([n,i])=>({text:i,value:n})),onFilter:(n,i)=>i.category===n},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:n=>e.jsx("span",{className:"text-gray-500",children:n?ae(n).format("MMM D, YYYY HH:mm"):"-"}),sorter:(n,i)=>new Date(n.createdAt).getTime()-new Date(i.createdAt).getTime()},{title:"Status",dataIndex:"read",key:"status",render:n=>e.jsx(B,{color:n?"green":"orange",icon:n?e.jsx(le,{}):e.jsx(de,{}),children:n?"Read":"Unread"})},{title:"Actions",key:"actions",width:250,render:(n,i)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j,{icon:e.jsx(A,{}),onClick:()=>R(i),type:"text",size:"small",className:"text-blue-500 hover:bg-blue-50",children:"View"}),e.jsx(j,{icon:e.jsx(le,{}),onClick:()=>M(i.id),disabled:i.read,type:"text",size:"small",className:"text-green-500 hover:bg-green-50",children:"Mark Read"}),e.jsx(j,{icon:e.jsx(Y,{}),onClick:()=>window.open(`mailto:${i.email}?subject=Re: ${i.title}`),type:"text",size:"small",className:"text-purple-500 hover:bg-purple-50",children:"Reply"}),e.jsx(j,{icon:e.jsx(ie,{}),onClick:()=>T(i.id),type:"text",size:"small",danger:!0,className:"hover:bg-red-50",children:"Delete"})]})}],v=n=>({"Technical Issue":"blue","Account Problem":"red","Billing Question":"purple",Feedback:"green",Other:"orange"})[d[n]]||"gray";return e.jsxs("div",{className:"tickets-dashboard p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Support Tickets"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(Le.Search,{placeholder:"Search tickets...",allowClear:!0,onChange:n=>m(n.target.value),className:"w-64",enterButton:!0}),e.jsx(j,{icon:e.jsx(jt,{}),onClick:P,loading:a,className:"flex items-center",children:"Refresh"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[e.jsx(W,{title:"Total Tickets",value:C.total,icon:e.jsx(A,{className:"text-white"}),gradient:"from-blue-500 to-blue-400",trend:C.totalTrend,description:"All system tickets",className:"hover:shadow-lg transition-all duration-300"}),e.jsx(W,{title:"Read",value:C.read,icon:e.jsx(Fe,{className:"text-white"}),gradient:"from-emerald-500 to-emerald-400",trend:C.readTrend,description:"Processed tickets",className:"hover:shadow-lg transition-all duration-300"}),e.jsx(W,{title:"Unread",value:C.unread,icon:e.jsx(de,{className:"text-white"}),gradient:"from-red-500 to-red-400",trend:C.trendUnread,description:"Requires attention",className:"hover:shadow-lg transition-all duration-300"})]}),e.jsxs(Pe,{bordered:!1,className:"rounded-lg shadow-sm border border-gray-200",bodyStyle:{padding:0},children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-white",children:[e.jsx("div",{className:"font-medium text-gray-800",children:"Tickets List"}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(De,{menu:{items:D,onClick:n=>N(n.key),selectedKeys:[b]},trigger:["click"],children:e.jsx(j,{icon:e.jsx(ht,{}),className:"flex items-center",children:"Filter"})})})]}),e.jsx(He,{spinning:a,indicator:e.jsx(xt,{style:{fontSize:24},spin:!0}),wrapperClassName:"min-h-[300px] flex items-center justify-center",children:f?e.jsx(fe,{message:"Error Loading Tickets",description:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:f}),e.jsx(j,{type:"link",onClick:z,className:"p-0 text-primary",children:"Retry"})]}),type:"error",showIcon:!0,closable:!0,className:"m-4"}):y.length===0?e.jsx("div",{className:"flex flex-col items-center py-12",children:e.jsx(oe,{description:e.jsxs("span",{className:"text-gray-500",children:["No tickets found",b!=="all"&&e.jsx(j,{type:"link",onClick:()=>N("all"),className:"p-0 ml-1",children:"Clear filters"})]}),image:oe.PRESENTED_IMAGE_SIMPLE})}):e.jsx(_e,{columns:H,dataSource:y,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50"],showTotal:n=>e.jsxs("div",{className:"text-gray-500 px-4 py-2",children:["Showing ",y.length," of ",n," tickets"]})},scroll:{x:!0},className:"custom-table",rowClassName:n=>`group transition-colors ${n.read?"bg-gray-50/50":"bg-white hover:bg-gray-50"}`,onRow:n=>({onClick:()=>R(n),className:"cursor-pointer"})})})]})]}),e.jsx(Ve,{open:x,onCancel:()=>h(!1),footer:null,title:e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"mr-2 text-blue-500"}),e.jsx("span",{children:(c==null?void 0:c.title)||"Ticket Details"})]}),width:800,centered:!0,destroyOnClose:!0,children:c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("b",{className:"w-28 flex-shrink-0 text-gray-600",children:"Email:"}),e.jsx("a",{href:`mailto:${c.email}`,className:"text-blue-600 hover:underline",children:c.email})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("b",{className:"w-28 flex-shrink-0 text-gray-600",children:"Category:"}),e.jsx(B,{color:v(c.category),children:d[c.category]||c.category})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("b",{className:"w-28 flex-shrink-0 text-gray-600",children:"Created At:"}),e.jsx("span",{className:"text-gray-700",children:ae(c.createdAt).format("MMM D, YYYY HH:mm")})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("b",{className:"w-28 flex-shrink-0 text-gray-600",children:"Status:"}),e.jsx(B,{color:c.read?"green":"orange",children:c.read?"Read":"Unread"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Details:"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line border border-gray-200",children:c.details})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsxs(j,{onClick:()=>window.open(`mailto:${c.email}?subject=Re: ${c.title}`),children:[e.jsx(Y,{})," Reply"]}),e.jsxs(j,{onClick:()=>{h(!1),T(c.id)},danger:!0,children:[e.jsx(ie,{})," Delete"]}),e.jsx(j,{type:"primary",onClick:()=>h(!1),children:"Close"})]})]})})]})},W=({title:r,value:t,icon:a,gradient:s,trend:l=0,description:m,className:f=""})=>{const g=l>0?"#ef4444":l<0?"#10b981":"#6b7280",x=l>0?e.jsx(ut,{}):l<0?e.jsx(dt,{}):null;return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden ${f}`,children:[e.jsx("div",{className:`bg-gradient-to-r ${s} p-4 text-white`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-lg font-medium",children:r}),e.jsx("div",{className:"p-2 rounded-full bg-white/20 backdrop-blur-sm",children:ve.cloneElement(a,{className:"text-xl"})})]})}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-bold text-gray-800",children:t}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:m})]}),l!==0&&x&&e.jsxs("div",{className:"flex items-center px-2 py-1 rounded-full text-xs",style:{backgroundColor:`${g}10`,color:g},children:[x,e.jsxs("span",{className:"ml-1 font-medium",children:[Math.abs(l),"% ",l>0?"Increase":"Decrease"]})]})]})})]})};export{Rt as default};
