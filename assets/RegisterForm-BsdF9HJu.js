import{r as i,u as y,j as r,A as N,L as u,a as f,y as a}from"./index-C_fr4Erx.js";/* empty css                      */function v(){const[e,d]=i.useState({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",age:"",address:""}),[c,m]=i.useState(!1),[g,h]=i.useState(null),p=y();i.useEffect(()=>{(async()=>{try{const s=await fetch(f+"GeneralInfo");if(!s.ok)throw new Error("Failed to fetch logo");const t=await s.json();h(t.data.headerLogoUrl)}catch(s){console.error("Error fetching logo:",s),h(null)}})()},[]);const o=l=>{const{name:s,value:t}=l.target;d({...e,[s]:s==="age"?Number(t):t})},b=async l=>{if(l.preventDefault(),!e.firstName||e.firstName.length>50){a.error("First Name is required and must be less than 50 characters.");return}if(!e.lastName||e.lastName.length>50){a.error("Last Name is required and must be less than 50 characters.");return}if(!e.email||!/\S+@\S+\.\S+/.test(e.email)){a.error("A valid Email is required.");return}if(!e.password||e.password.length<6){a.error("Password must be at least 6 characters.");return}if(!e.phoneNumber||!/^\+20(10|11|12|15)\d{8}$/.test(e.phoneNumber)){a.error("Phone number must start with +20 and be a valid Egyptian number.");return}if(Number(e.age)<10||Number(e.age)>50){a.error("Age must be between 10 and 50.");return}if(!e.address||e.address.length>250){a.error("Address must be less than 250 characters.");return}m(!0);try{const s=await fetch(`${f}Auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)a.success("Account created! Please check your email to confirm."),d({firstName:"",lastName:"",email:"",phoneNumber:"",password:"",age:"",address:""}),setTimeout(()=>{p("/login")},3e3);else{const t=s.headers.get("content-type");if(t!=null&&t.includes("application/json")){const n=await s.json();Array.isArray(n)?n.forEach(x=>a.error(x.description||"An error occurred.")):a.error(n.message||"Registration failed.")}else{const n=await s.text();a.error(n||"An unknown error occurred.")}}}catch(s){console.error("Error:",s),a.error("Something went wrong. Please try again.")}finally{m(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white-100 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md bg-white p-10 rounded-2xl shadow-2xl",children:[r.jsxs("div",{className:"text-center",children:[g?r.jsx("img",{src:`${N}/${g}`,alt:"Logo",className:"mx-auto h-12 w-auto mb-8"}):r.jsx("div",{className:"h-12 w-12 mx-auto mb-8 bg-gray-200 rounded-full animate-pulse"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Your Account"})]}),r.jsxs("form",{onSubmit:b,className:"space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",name:"firstName",value:e.firstName,onChange:o,placeholder:"First Name",required:!0,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("input",{type:"text",name:"lastName",value:e.lastName,onChange:o,placeholder:"Last Name",required:!0,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("input",{type:"email",name:"email",value:e.email,onChange:o,placeholder:"Email Address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("input",{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:o,placeholder:"Phone Number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("input",{type:"password",name:"password",value:e.password,onChange:o,placeholder:"Password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("input",{type:"number",name:"age",value:e.age,onChange:o,placeholder:"Age",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("input",{type:"text",name:"address",value:e.address,onChange:o,placeholder:"Address",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{className:"flex items-start text-sm text-gray-700",children:[r.jsx("input",{type:"checkbox",id:"terms",required:!0,className:"h-4 w-4 mt-1 text-blue-600 border-gray-300 rounded"}),r.jsxs("label",{htmlFor:"terms",className:"ml-2",children:["I agree to the"," ",r.jsx(u,{to:"/terms-of-service",className:"text-blue-600 hover:text-blue-500 underline",children:"Terms of Service"})," ","and"," ",r.jsx(u,{to:"/privacy-policy",className:"text-blue-600 hover:text-blue-500 underline",children:"Privacy Policy"})]})]}),r.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 rounded-md shadow-sm text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:c?"Creating Account...":"Create Account"}),r.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account?"," ",r.jsx(u,{to:"/login",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Log in"})]})]})]})})}export{v as default};
