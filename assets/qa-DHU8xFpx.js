import{c as R,r as s,j as e,a as r,y as l}from"./index-DPuvoll-.js";import q from"./DashboardLayout-DUU7Lqwx.js";import{B as m}from"./button-CYdQFzX_.js";import{C as H}from"./card-CYNz0zcd.js";import{I as _}from"./input-ob3Opmf_.js";import{T as G}from"./textarea-Cn-DeHjf.js";import{C as F}from"./ConfirmationDialog-BtPhdutN.js";import{C as K}from"./circle-help-C6EnCcsX.js";import{P as V}from"./pencil-XaAp15ZU.js";import{T as W}from"./trash-2-DU9wkDME.js";import"./avatar-BwAIo9yI.js";import"./chevron-down-BShv5FgQ.js";import"./menu-DDNcVij5.js";import"./house-CU8__SLY.js";import"./settings-C6a9jyWU.js";import"./user-gaA5Cs8y.js";import"./proxy-Fs6e6fcF.js";import"./index-Co9Zm7B-.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=R("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),fe=()=>{const[w,c]=s.useState(!1),[Q,p]=s.useState([]),[I,C]=s.useState(!0),[g,i]=s.useState(""),[N,j]=s.useState(""),[v,A]=s.useState(""),[n,x]=s.useState(!1),[P,f]=s.useState(null),[S,d]=s.useState(""),[E,u]=s.useState(""),[$,y]=s.useState(!1),[b,k]=s.useState(null),[T,o]=s.useState(null);s.useEffect(()=>{(async()=>{C(!0),i("");try{const a=await fetch(`${r}FAQ`);if(!a.ok)throw new Error("Failed to fetch FAQs");const h=await a.json();p(h.data)}catch{i("Could not load FAQs")}finally{C(!1)}})()},[]);const D=async()=>{o("add")},L=async()=>{try{if(!(await fetch(`${r}FAQ`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({question:N,answer:v})})).ok)throw new Error("Failed to add FAQ");j(""),A(""),c(!1);const a=await fetch(`${r}FAQ`).then(h=>h.json());p(a.data),l.success("FAQ added successfully")}catch{i("Could not add FAQ"),l.error("Could not add FAQ")}o(null)},M=t=>{x(!0),f(t.id),d(t.question),u(t.answer),c(!0)},O=async()=>{o("edit")},U=async()=>{try{if(!(await fetch(`${r}FAQ/${P}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({question:S,answer:E})})).ok)throw new Error("Failed to update FAQ");x(!1),f(null),d(""),u(""),c(!1);const a=await fetch(`${r}FAQ`).then(h=>h.json());p(a.data),l.success("FAQ updated successfully")}catch{i("Could not update FAQ"),l.error("Could not update FAQ")}o(null)},z=t=>{k(t),y(!0)},B=async()=>{try{if(!(await fetch(`${r}FAQ/${b}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete FAQ");p(Q.filter(a=>a.id!==b)),k(null),y(!1),l.success("FAQ deleted successfully")}catch{i("Could not delete FAQ"),l.error("Could not delete FAQ"),y(!1)}},J=n?O:D;return e.jsx(q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(H,{className:"p-6 bg-white rounded-lg shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(K,{className:"text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Frequently Asked Questions (FAQ)"})]}),e.jsxs(m,{className:"bg-green-600 text-white hover:bg-green-700 mb-4",onClick:()=>{c(!w),w||(x(!1),f(null),d(""),u(""),j(""),A(""))},children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Add Question"]}),w&&e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx(_,{placeholder:"Enter question",value:n?S:N,onChange:t=>n?d(t.target.value):j(t.target.value)}),e.jsx(G,{placeholder:"Enter answer",value:n?E:v,onChange:t=>n?u(t.target.value):A(t.target.value)}),e.jsx(m,{onClick:J,children:n?"Update":"Save"}),n&&e.jsx(m,{variant:"outline",onClick:()=>{x(!1),f(null),d(""),u(""),c(!1)},children:"Cancel"})]}),I?e.jsx("div",{children:"Loading..."}):g?e.jsx("div",{className:"text-red-500",children:g}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"#"}),e.jsx("th",{className:"px-4 py-2",children:"Question"}),e.jsx("th",{className:"px-4 py-2",children:"Answer"}),e.jsx("th",{className:"px-4 py-2 text-center",children:"Actions"})]})}),e.jsx("tbody",{children:Q.map((t,a)=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-3",children:a+1}),e.jsx("td",{className:"px-4 py-3",children:t.question}),e.jsx("td",{className:"px-4 py-3",children:t.answer}),e.jsxs("td",{className:"px-4 py-3 text-center space-x-2",children:[e.jsx(m,{size:"sm",variant:"outline",onClick:()=>M(t),children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx(m,{size:"sm",variant:"destructive",onClick:()=>z(t.id),children:e.jsx(W,{className:"w-4 h-4"})})]})]},t.id))})]})})]}),$&&e.jsx(F,{message:"Are you sure you want to delete this FAQ?",onConfirm:B,onCancel:()=>y(!1)}),T==="edit"&&e.jsx(F,{message:"Are you sure you want to update this FAQ?",onConfirm:U,onCancel:()=>o(null)}),T==="add"&&e.jsx(F,{message:"Are you sure you want to add this FAQ?",onConfirm:L,onCancel:()=>o(null)})]})})};export{fe as default};
